flowchart LR

subgraph inputs["DPG Girdileri"]
  direction LR
  dfit["$$D_{\mathrm{fit}}(v,u)$$ <br/> (DMF çıktısı)"]:::data
  mask["$$M(v,u)$$ <br/> (ZED geçersizlik maskesi)"]:::data
end

subgraph dpg["Dinamik PG: Yayınlama / Sonlandırma Kuralı"]
  direction TB
  apply["Maske uygula <br/> $$M=1 \Rightarrow D_{\mathrm{PG}}=\mathrm{NaN}$$"]:::stage
  out["Yayınlanan derinlik <br/> $$D_{\mathrm{PG}}(v,u)$$"]:::data
  dfit --> apply --> out
  mask --> apply
end

%% ====== COLOR PALETTE (ACADEMIC) ======
classDef stage fill:#4e79a7, stroke:#2f4b7c, color:#ffffff, rx:6, ry:6;
classDef data fill:#e0e0e0, stroke:#7f7f7f, color:#000000, rx:4, ry:4;
classDef topic fill:#f3e6c9, stroke:#bfa980, color:#000000, rx:4, ry:4;
classDef decision fill:#cfe8d5, stroke:#6b8f71, color:#000000, rx:6, ry:6;

